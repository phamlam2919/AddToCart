{"ast":null,"code":"import { legacy_createStore as createStore } from \"redux\";\nlet initialState = {\n  cart: []\n};\nconst store = createStore((state = initialState, action) => {\n  if (action.type === \"ADD_TO_CART\") {\n    let cart = [...state.cart];\n    let {\n      payload\n    } = action;\n    let findIndex = cart.findIndex((e, i) => e.product_id === payload.product_id);\n    if (findIndex > -1) {\n      cart[findIndex].clickNumber = cart[findIndex].clickNumber + payload.clickNumber;\n    } else {\n      cart.push(payload);\n    }\n    return {\n      ...state,\n      cart: [...cart]\n    };\n  }\n  if (action.type === \"INCREASE_CART_PRODUCT\") {\n    let cart = [...state.cart];\n    let {\n      payload\n    } = action;\n    let findIndex = cart.findIndex((e, i) => e.product_id === payload);\n    cart[findIndex].clickNumber = cart[findIndex].clickNumber + 1;\n    return {\n      ...state,\n      cart: [...cart]\n    };\n  }\n  return state;\n});\nexport default store;","map":{"version":3,"names":["legacy_createStore","createStore","initialState","cart","store","state","action","type","payload","findIndex","e","i","product_id","clickNumber","push"],"sources":["C:/Users/FPT/Desktop/Thư mục mới (2)/ecommerce_fs/client/src/store/index.js"],"sourcesContent":["import { legacy_createStore as createStore } from \"redux\";\r\n\r\nlet initialState = {\r\n    cart: [],\r\n};\r\nconst store = createStore((state = initialState, action) => {\r\n    if (action.type === \"ADD_TO_CART\") {\r\n        let cart = [...state.cart];\r\n        let { payload } = action;\r\n        let findIndex = cart.findIndex(\r\n            (e, i) => e.product_id === payload.product_id\r\n        );\r\n        if (findIndex > -1) {\r\n            cart[findIndex].clickNumber =\r\n                cart[findIndex].clickNumber + payload.clickNumber;\r\n        } else {\r\n            cart.push(payload);\r\n        }\r\n        return {\r\n            ...state,\r\n            cart: [...cart],\r\n        };\r\n    }\r\n\r\n    if (action.type === \"INCREASE_CART_PRODUCT\") {\r\n        let cart = [...state.cart];\r\n        let { payload } = action;\r\n        let findIndex = cart.findIndex((e, i) => e.product_id === payload);\r\n\r\n        cart[findIndex].clickNumber = cart[findIndex].clickNumber + 1;\r\n\r\n        return {\r\n            ...state,\r\n            cart: [...cart],\r\n        };\r\n    }\r\n    return state;\r\n});\r\n\r\nexport default store;\r\n"],"mappings":"AAAA,SAASA,kBAAkB,IAAIC,WAAW,QAAQ,OAAO;AAEzD,IAAIC,YAAY,GAAG;EACfC,IAAI,EAAE;AACV,CAAC;AACD,MAAMC,KAAK,GAAGH,WAAW,CAAC,CAACI,KAAK,GAAGH,YAAY,EAAEI,MAAM,KAAK;EACxD,IAAIA,MAAM,CAACC,IAAI,KAAK,aAAa,EAAE;IAC/B,IAAIJ,IAAI,GAAG,CAAC,GAAGE,KAAK,CAACF,IAAI,CAAC;IAC1B,IAAI;MAAEK;IAAQ,CAAC,GAAGF,MAAM;IACxB,IAAIG,SAAS,GAAGN,IAAI,CAACM,SAAS,CAC1B,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAACE,UAAU,KAAKJ,OAAO,CAACI,UACvC,CAAC;IACD,IAAIH,SAAS,GAAG,CAAC,CAAC,EAAE;MAChBN,IAAI,CAACM,SAAS,CAAC,CAACI,WAAW,GACvBV,IAAI,CAACM,SAAS,CAAC,CAACI,WAAW,GAAGL,OAAO,CAACK,WAAW;IACzD,CAAC,MAAM;MACHV,IAAI,CAACW,IAAI,CAACN,OAAO,CAAC;IACtB;IACA,OAAO;MACH,GAAGH,KAAK;MACRF,IAAI,EAAE,CAAC,GAAGA,IAAI;IAClB,CAAC;EACL;EAEA,IAAIG,MAAM,CAACC,IAAI,KAAK,uBAAuB,EAAE;IACzC,IAAIJ,IAAI,GAAG,CAAC,GAAGE,KAAK,CAACF,IAAI,CAAC;IAC1B,IAAI;MAAEK;IAAQ,CAAC,GAAGF,MAAM;IACxB,IAAIG,SAAS,GAAGN,IAAI,CAACM,SAAS,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAACE,UAAU,KAAKJ,OAAO,CAAC;IAElEL,IAAI,CAACM,SAAS,CAAC,CAACI,WAAW,GAAGV,IAAI,CAACM,SAAS,CAAC,CAACI,WAAW,GAAG,CAAC;IAE7D,OAAO;MACH,GAAGR,KAAK;MACRF,IAAI,EAAE,CAAC,GAAGA,IAAI;IAClB,CAAC;EACL;EACA,OAAOE,KAAK;AAChB,CAAC,CAAC;AAEF,eAAeD,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}